{% extends "main.html" %}

{% block body %}
    <div id="keyspaces">
        <h1>Keyspaces</h1>
        <ul>
            {% for keyspace in keyspaces %}
                <li>{{ keyspace }}</li>
            {% endfor %}
        </ul>
    </div>
    <div id="tables">
        <h1>Tables</h1>
        <ul>
            {% for table in tables %}
                <li>{{ table }}</li>
            {% endfor %}
        </ul>
    </div>
    <div id="context">
    	<div id="cql">                    
            <form class="inline-form" method="post" action="{{ url_for('query') }}">
                Query(CQL): <input type="text" name="cql" value="{{ cql }}">
                <input class="btn" type="submit" name="query", value="execute" >
                {% if page %}
                    <input class="btn" type="submit" name="next", value="next" >
                {% endif %}
            </form>
        </div>
        <div id="data">
            <p>{{ rows |length }} Rows - time: {{ query_time }}s</p>
            <table>
                {% for row in rows %}
                    <tr>
                        {% for key in row %}
                            <th class="{{ key }}">{{ key }}</th>
                        {% endfor %}
                    </tr>
                    <tr>
                        {% for key in row %}
                            <td>{{ row[key] }}</td>
                        {% endfor %}
                    </tr>
                    <tr>
                        <td>
                            <a href="{{ url_for('edit', key=0) }}">Edit</a>
                            <form class="inline-form" method="post" action="{{ url_for('delete', key=0) }}">
                                <input class="btn" type="submit" name="delete", value="delete"
                                onclick="return confirm('Delete this row?')">
                            </form>
                        </td>
                    </tr>
                {% endfor %}             
            </table>
    	</div>
    </div>
    <div id="footer"></div>
{% endblock %}
